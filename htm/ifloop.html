<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta name="generator" content="pandoc" />
  <title></title>
  <style type="text/css">code{white-space: pre;}</style>
  <style type="text/css">
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; }
code > span.dt { color: #902000; }
code > span.dv { color: #40a070; }
code > span.bn { color: #40a070; }
code > span.fl { color: #40a070; }
code > span.ch { color: #4070a0; }
code > span.st { color: #4070a0; }
code > span.co { color: #60a0b0; font-style: italic; }
code > span.ot { color: #007020; }
code > span.al { color: #ff0000; font-weight: bold; }
code > span.fu { color: #06287e; }
code > span.er { color: #ff0000; font-weight: bold; }
  </style>
  <link rel="stylesheet" href="../css/book.css" type="text/css" />
</head>
<body>
<div id="header_wrap">
  <h1><a href="course.html">電子書：C# 程式設計</a></h1>
  <table id="bar" border="0" style="border:0;"><tr style="border:0;">
    <td style="text-align:left;border:0;"><a href="book.html">電子書</a> | <a href="course.html">課程區</a> | <a href="forum.html">討論區</a> | <a href="exam.html">測驗區</a></td>
    <td style="text-align:right;border:0;"><a href="http://ccckmit.wikidot.com/">陳鍾誠</a> 於 <a href="http://www.nqu.edu.tw/">金門大學</a></td>
  </tr></table>
</div>
<div id="content">
<div id="TOC">
<ul>
<li><a href="#c-程式基礎流程控制">C# 程式基礎：流程控制</a><ul>
<li><a href="#if-語法">if 語法</a></li>
<li><a href="#for-語法">for 語法</a></li>
<li><a href="#while-語法">while 語法</a></li>
<li><a href="#結語">結語</a></li>
<li><a href="#練習if-範例">練習：if 範例</a></li>
<li><a href="#練習while-範例">練習：while 範例</a></li>
</ul></li>
</ul>
</div>
<h1 id="c-程式基礎流程控制"><a href="#c-程式基礎流程控制">C# 程式基礎：流程控制</a></h1>
<p>在結構化的程式語言中，流程控制是以判斷 (if, switch) 與迴圈 (for, while) 為主的。C# 也不例外，我們將在本文中介紹 C# 的流程控制語法，包含如何利用條件判斷語法控制程式的分支情況，以及用迴圈語法重複運行某些程式碼。</p>
<h2 id="if-語法"><a href="#if-語法">if 語法</a></h2>
<p>C# 的條件判斷以 if 為主，語法完全繼承 C 語言的語法，其語法如下：</p>
<pre class="sourceCode CS"><code class="sourceCode cs"><span class="kw">if</span> EXP <span class="dv">1</span>
  BLOCK <span class="dv">1</span>
<span class="kw">else</span> <span class="kw">if</span> EXP <span class="dv">2</span>
  BLOCK <span class="dv">2</span>
...
<span class="kw">else</span> EXP K
  BLOCK K</code></pre>
<p>舉例而言，假如我們想要判斷成績變數 score 是否及格，也就是 score 是否到達 60 分以上，則可以用下列語法。</p>
<pre class="sourceCode CS"><code class="sourceCode cs"><span class="kw">if</span> (score &gt;= <span class="dv">60</span>)
  Console.<span class="fu">WriteLine</span>(<span class="st">&quot;及格&quot;</span>);
<span class="kw">else</span>
  Console.<span class="fu">WriteLine</span>(<span class="st">&quot;不及格&quot;</span>);</code></pre>
<p>更進一步的，假如我們想用程式判斷等第，其中 90 分以上為 A，80-90 之間為 B，70-80 之間為 C，70 以下為 D，那麼就可以用下列語法進行判斷。</p>
<pre class="sourceCode CS"><code class="sourceCode cs"><span class="kw">if</span> (score &gt;=<span class="dv">90</span>)
  degree = <span class="st">&quot;A&quot;</span>;
<span class="kw">else</span> <span class="kw">if</span> (score &gt;= <span class="dv">80</span>)
  degree = <span class="st">&quot;B&quot;</span>;
<span class="kw">else</span> <span class="kw">if</span> (score &gt;= <span class="dv">70</span>)
  degree = <span class="st">&quot;C&quot;</span>;
<span class="kw">else</span>
  degree = <span class="st">&quot;D&quot;</span>;</code></pre>
<p>如果我們將上述範例與 if 語句的語法對照起來，可以很清楚的看到 if 語句的語法結構，如以下範例所示。</p>
<pre class="sourceCode CS"><code class="sourceCode cs"><span class="kw">if</span> (score &gt;=<span class="dv">90</span>)            <span class="co">// if EXP 1</span>
  degree = <span class="st">&quot;A&quot;</span>;            <span class="co">//   BLOCK 1</span>
<span class="kw">else</span> <span class="kw">if</span> (score &gt;= <span class="dv">80</span>)      <span class="co">// else if EXP 2</span>
  degree = <span class="st">&quot;B&quot;</span>;            <span class="co">//   BLOCK 2</span>
<span class="kw">else</span> <span class="kw">if</span> (score &gt;= <span class="dv">70</span>)      <span class="co">// else if (EXP 3</span>
  degree = <span class="st">&quot;C&quot;</span>;            <span class="co">//   BLOCK 3</span>
<span class="kw">else</span>                       <span class="co">// else EXP 4</span>
  degree = <span class="st">&quot;D&quot;</span>;            <span class="co">//   BLOCK 4  </span></code></pre>
<h2 id="for-語法"><a href="#for-語法">for 語法</a></h2>
<p>C# 當中的迴圈語法，包含 for, while, foreach 等，其中的 for 與 while 是由 C 繼承而來的，語法與 C 語言一致。而 foreach 的語法則是新創造的，其使用上比 for 語法更方便。</p>
<p>for 迴圈的語法如下所示，其中的 EXP1 是指定敘述，可以用來設定索引變數的初值，EXP2 是一個判斷條件，用來判斷是否應跳出迴圈，EXP3 則是累加條件，通常用來對索引變數進行累加 (++) 的動作。</p>
<pre class="sourceCode CS"><code class="sourceCode cs"><span class="kw">for</span> (EXP1; EXP2; EXP3)
  BLOCK;</code></pre>
<p>舉例而言，假如我們想計算從 1 加到 100 的結果，就可以利用下列程式，不斷的將索引變數值 i 加入到總和變數 sum 當中，最後 sum 當中所儲存的就會是 1+2+...+100 的結果 5050。</p>
<pre class="sourceCode CS"><code class="sourceCode cs"><span class="dt">int</span> sum = <span class="dv">0</span>;
<span class="kw">for</span> (<span class="dt">int</span> i=<span class="dv">1</span>; i&lt;=<span class="dv">100</span>; i++)
  sum += i;</code></pre>
<h2 id="while-語法"><a href="#while-語法">while 語法</a></h2>
<p>while 迴圈的語法比 for 迴圈更簡單，其語法如下範例所示，其中的 EXP 是一個邏輯判斷式，用來判斷是否應該離開迴圈。在還沒離開之前，會不斷的重複執行 BLOCK 區塊。</p>
<pre class="sourceCode CS"><code class="sourceCode cs"><span class="kw">while</span> (EXP)
  BLOCK</code></pre>
<p>同樣的，我們也可以利用 while 迴圈計算從 1 加到 100 的結果，其程式如以下範例所示。</p>
<pre class="sourceCode CS"><code class="sourceCode cs"><span class="dt">int</span> sum=<span class="dv">0</span>;
<span class="dt">int</span> i = <span class="dv">1</span>;
<span class="kw">while</span> (i&lt;=<span class="dv">100</span>) 
{
  sum = sum + i;
  i++;
}</code></pre>
<p>至於 foreach 迴圈，則是針對某個容器結構 (例如陣列) 當中的每個元素都巡迴執行一次，其語法我們將留待未來討論陣列的主題時再行說明。</p>
<h2 id="結語"><a href="#結語">結語</a></h2>
<p>判斷與迴圈是結構化程式設計的兩大流程控制方法，有效的結合判斷與迴圈，就能產生變化無窮的程式，這正是程式設計精妙的地方，也是程式設計師必須要會的基本能力。</p>
<h2 id="練習if-範例"><a href="#練習if-範例">練習：if 範例</a></h2>
<pre class="sourceCode CS"><code class="sourceCode cs"><span class="kw">using</span> System;
<span class="kw">using</span> System.<span class="fu">Collections</span>.<span class="fu">Generic</span>;
<span class="kw">using</span> System.<span class="fu">Linq</span>;
<span class="kw">using</span> System.<span class="fu">Text</span>;

<span class="kw">namespace</span> ConsoleApplication1
{
    <span class="kw">class</span> Program
    {
        <span class="kw">static</span> <span class="dt">void</span> <span class="fu">Main</span>(<span class="dt">string</span>[] args)
        {
            <span class="co">// int score = 55;</span>
            Console.<span class="fu">Write</span>(<span class="st">&quot;請輸入分數：&quot;</span>);
            String scoreStr = Console.<span class="fu">ReadLine</span>();
            <span class="dt">int</span> score = <span class="dt">int</span>.<span class="fu">Parse</span>(scoreStr);
            <span class="kw">if</span> (score &gt;= <span class="dv">60</span>)
                Console.<span class="fu">WriteLine</span>(<span class="st">&quot;及格&quot;</span>);
            <span class="kw">else</span>
                Console.<span class="fu">WriteLine</span>(<span class="st">&quot;不及格&quot;</span>);
        }
    }
}</code></pre>
<h2 id="練習while-範例"><a href="#練習while-範例">練習：while 範例</a></h2>
<pre class="sourceCode CS"><code class="sourceCode cs"><span class="kw">using</span> System;
<span class="kw">using</span> System.<span class="fu">Collections</span>.<span class="fu">Generic</span>;
<span class="kw">using</span> System.<span class="fu">Linq</span>;
<span class="kw">using</span> System.<span class="fu">Text</span>;

<span class="kw">namespace</span> ConsoleApplication1
{
    <span class="kw">class</span> Program
    {
        <span class="kw">static</span> <span class="dt">void</span> <span class="fu">Main</span>(<span class="dt">string</span>[] args)
        {
            <span class="dt">int</span> score = <span class="dv">55</span>;
            <span class="kw">if</span> (score &gt;= <span class="dv">60</span>)
                Console.<span class="fu">WriteLine</span>(<span class="st">&quot;及格！&quot;</span>);
            <span class="kw">else</span>
                Console.<span class="fu">WriteLine</span>(<span class="st">&quot;不及格！&quot;</span>);

            <span class="kw">while</span> (score &lt; <span class="dv">60</span>)
            {
                Console.<span class="fu">WriteLine</span>(<span class="st">&quot;score=&quot;</span> + score + <span class="st">&quot;=&gt; 不及格！&quot;</span>);
                score++;
            }
            Console.<span class="fu">WriteLine</span>(<span class="st">&quot;score=&quot;</span> + score + <span class="st">&quot;=&gt; 恭喜你！及格了！&quot;</span>);
<span class="co">/*</span>
<span class="co">            int i = 1;</span>
<span class="co">            while (i &lt;= 10)</span>
<span class="co">            {</span>
<span class="co">                Console.WriteLine(&quot;i=&quot; + i);</span>
<span class="co">                i++; // i = i + 1; // i++</span>
<span class="co">            }</span>
<span class="co">*/</span>
            <span class="kw">for</span> (<span class="dt">int</span> i = <span class="dv">1</span>; i &lt;= <span class="dv">10</span>; i+=<span class="dv">2</span>) <span class="co">// i+=2 =&gt; i=i+2</span>
                Console.<span class="fu">WriteLine</span>(<span class="st">&quot;i=&quot;</span> + i);


        }
    }
}</code></pre>
</div>
<div id="footer">
<a href="http://ccckmit.wikidot.com">陳鍾誠</a>衍生自<a href="http://zh.wikipedia.org/">維基百科</a>之作品：採用 <a href="http://creativecommons.org/licenses/by-sa/3.0/tw/ ">創作共用：姓名標示、相同方式分享</a> <a href="license.html">授權</a>
</div>
</body>
</html>
